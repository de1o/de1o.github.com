---
layout:	post
title:	BOP1.3 烙饼排序
---

{{page.title}}
==============

<p class='meta'>2 Jan 2013 - Nanjing</p>

	题：一摞饼大小不一，每次可以翻转最上层的若干个，最后达到按大小次序摆好的效果，小在上大在下，输出最优化的翻饼方案。

因为每次能做的操作仅限于翻转最上层的一些饼，所以普通的排序方法就不适用了。首先考虑，可以先把最大的翻上来，再整个翻下去，最大的就在最底下了，那么继续折腾上面的N-1个，一定能完成。这种情况下翻转次数为2*(N-1)次。

但这种简单粗暴的方式未必就是最优解，也可能存在，先翻动小的饼，使其有序，比每次都直接翻大饼快。__考虑每次翻转的时候，把两个本来应该相邻的烙饼尽可能换到一起，等所有烙饼都换到一起，就完成排序了。__在不进行其他推理证明的情况下，穷举出所有的方案就能找到最优解。

既然穷举，考虑动态规划法来剪枝。

使用递归把所有的可能都尝试一遍，退出条件：

1.	所有烙饼已排好序;
2.	该支线上所需的翻转次数大于已知的可行解2(N-1)。

可行解的上界是2(N-1)，那么下界呢，考虑如果两个相邻烙饼的尺寸并不相邻，那么就至少要进行一次翻转。在最好情况下，一次翻转之后烙饼的尺寸就正好相邻了。比如`7896`，只需要在9处进行一次翻转即可。也就是找出相邻烙饼尺寸不相邻的次数作为下界。

有了上下界，动态规划法可做。

